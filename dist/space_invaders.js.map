{"version":3,"sources":["webpack:///webpack/bootstrap 577a6d2c0878063b323a","webpack:///./src/space_invaders_view.js","webpack:///./src/main.js","webpack:///./src/game.js","webpack:///./src/Coord.js","webpack:///./src/ship.js","webpack:///./src/Missile.js","webpack:///./src/alien_ship.js","webpack:///./src/board.js","webpack:///./src/coord.js","webpack:///./src/player_ship.js"],"names":["Game","require","SpaceInvadersView","el","game","board","run","grid","forEach","row","$ul","$l","addClass","$li","append","markAlienShipsOnBoard","markMissilesOnBoard","renderBoard","moveAlienShipsLR","moveMissiles","resolveMissileCollisions","lives","setInterval","runIntervalMethods","bind","setTimeout","generateAlienShipMissile","moveAlienShipsDown","alert","module","exports","rootEl","Board","AlienShip","PlayerShip","Missile","aliensShips","playerShip","missileId","missiles","renderAlienShips","resetPlayerShip","window","addEventListener","handleKeyEvent","event","preventDefault","keyCode","createMissile","fireMissile","move","alienShipNoses1","alienShipNoses2","alienShipNoses3","alienShipNoses4","alienShipNoses5","nose","ship","shooting","alienShips","push","body","part","updateBoard","color","idx","arr","leftmostShipIndex","Math","floor","leftmostShip","rightmostShipIndex","rightmostShip","x","direction","updatedBoard","alienShipIndex","indexOf","coord","val","updateGrid","loc","origin","missile","id","shift","shootingShips","filter","randomShootingShip","random","length","AlienShips","map","includedIn","destroyShip","i","modules","export","Coord","y","directions","deltas","coord2","some","isEqual","Ship","renderBody","width","height","renderGrid","j"],"mappings":"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","file":"space_invaders.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 577a6d2c0878063b323a","const Game = require(\"./game.js\");\n\nclass SpaceInvadersView {\n  constructor(el) {\n    this.el = el;\n    this.game = new Game();\n    this.board = this.game.board;\n    this.run();\n  }\n\n  renderBoard() {\n    this.board.grid.forEach((row) => {\n      const $ul = $l(\"<ul></ul>\");\n      $ul.addClass(\"group\");\n      row.forEach((el) => {\n        const $li = $l(\"<li></li>\");\n        if (el === \"white\") {\n          $li.addClass(\"white-alien-ship-part\");\n        } else if (el === \"yellow\") {\n          $li.addClass(\"yellow-alien-ship-part\");\n        } else if (el === \"green\") {\n          $li.addClass(\"green-alien-ship-part\");\n        } else if (el === \"blue\") {\n          $li.addClass(\"blue-alien-ship-part\");\n        } else if (el === \"purple\") {\n          $li.addClass(\"purple-alien-ship-part\");\n        } else if (el === \"missile\") {\n          $li.addClass(\"missile\");\n        } else if (el === \"grey\") {\n          $li.addClass(\"player-ship-part\");\n        }\n\n        $ul.append($li);\n      });\n      this.el.append($ul);\n    });\n  }\n\n  runIntervalMethods() {\n    this.game.markAlienShipsOnBoard();\n    this.game.markMissilesOnBoard();\n    this.renderBoard();\n    this.game.moveAlienShipsLR();\n    this.game.moveMissiles();\n    this.game.resolveMissileCollisions();\n  }\n\n  run() {\n    while (this.game.lives > 0) {\n      setInterval(this.runIntervalMethods.bind(this), 100);\n      setTimeout(this.game.generateAlienShipMissile.bind(this.game), 5000);\n      setTimeout(this.game.moveAlienShipsDown.bind(this.game), 10000);\n    }\n\n    alert(\"GAME OVER\")\n  }\n}\n\nmodule.exports = SpaceInvadersView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/space_invaders_view.js","const SpaceInvadersView = require('./space_invaders_view.js');\n\n$l(function () {\n  const rootEl = $l('.space-invaders');\n  new SpaceInvadersView(rootEl);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","const Board = require(\"./board.js\");\nconst AlienShip = require(\"./alien_ship.js\");\nconst PlayerShip = require(\"./player_ship.js\");\nconst Missile = require(\"./Missile\")\n\nclass Game {\n  constructor(lives = 3) {\n    this.lives = lives;\n    this.board = new Board();\n    this.aliensShips = [];\n    this.playerShip = null;\n    this.missileId = 0;\n    this.missiles = {};\n    this.renderAlienShips();\n    this.resetPlayerShip();\n    window.addEventListener(\"keydown\", this.handleKeyEvent.bind(this));\n  }\n\n  handleKeyEvent(event) {\n    event.preventDefault();\n    switch(event.keyCode) {\n      case 32:\n        this.createMissile(this.playerShip.fireMissile());\n        break;\n      case 37:\n        this.playerShip.move(\"left\");\n        break;\n      case 39:\n        this.playerShip.move(\"right\");\n        break;\n    }\n  }\n\n  renderAlienShips() {\n    const alienShipNoses1 = [[17,3], [17,7], [17,11], [17,15], [17,19], [17,23]];\n    const alienShipNoses2 = [[14,2], [14,6], [14,10], [14,14], [14,18], [14,22]];\n    const alienShipNoses3 = [[11,1], [11,5], [11,9], [11,13], [11,17], [11,21]];\n    const alienShipNoses4 = [[8,2], [8,6], [8,10], [8,14], [8,18], [8,22]];\n    const alienShipNoses5 = [[5,3], [5,7], [5,11], [5,15], [5,19], [5,23]];\n\n    alienShipNoses1.forEach((nose) => {\n      let ship = new AlienShip(nose, \"white\");\n      ship.shooting = true;\n      this.alienShips.push(ship);\n    });\n\n    alienShipNoses2.forEach((nose) => {\n      let ship = new AlienShip(nose, \"yellow\");\n      this.alienShips.push(ship);\n    });\n\n    alienShipNoses3.forEach((nose) => {\n      let ship = new AlienShip(nose, \"green\");\n      this.alienShips.push(ship);\n    });\n\n    alienShipNoses4.forEach((nose) => {\n      let ship = new AlienShip(nose, \"blue\");\n      this.alienShips.push(ship);\n    });\n\n    alienShipNoses5.forEach((nose) => {\n      let ship = new AlienShip(nose, \"purple\");\n      this.alienShips.push(ship);\n    });\n  }\n\n  markAlienShipsOnBoard() {\n    const game = this;\n\n    this.alienShips.forEach((ship) => {\n      ship.body.forEach((part) => {\n        game.updateBoard(part, ship.color);\n      });\n    });\n  }\n\n  moveAlienShipsLR() {\n    this.alienShips.forEach((ship, idx, arr) => {\n      let leftmostShipIndex = (Math.floor(idx / 6)) * 6;\n      let leftmostShip = arr[leftmostShipIndex];\n      let rightmostShipIndex = (((Math.floor(idx / 6)) + 1) * 6) - 1;\n      let rightmostShip = arr[rightmostShipIndex];\n\n      if (rightmostShip.body[3].x === 26) {\n        ship.direction = \"left\";\n      } else if (leftmostShip.body[2].x === 0) {\n        ship.direction = \"right\";\n      }\n\n      ship.move(ship.direction);\n    });\n  }\n\n  moveAlienShipsDown() {\n    this.alienShips.forEach((ship) => {\n      ship.move(\"down\");\n    });\n  }\n\n  destroyShip(ship) {\n    if (ship instanceof PlayerShip) {\n      this.lives -= 1;\n      this.playerShip = null;\n      ship.body.forEach((part) => {\n        game.updatedBoard(part, null);\n      });\n    } else if (ship instanceof AlienShip) {\n      const alienShipIndex = this.alienShips.indexOf(ship);\n      // The ship will be hidden, but will continue to exist,\n      // because, to determine the direction in which a row's ships will move,\n      // we need the ships at each end.\n      this.alienShips[alienShipIndex].color = \"black\";\n      this.alienShips[alienShipIndex].shooting = false;\n      this.alienShips[alienShipIndex + 6].shooting = true;\n      ship.body.forEach((part) => {\n        game.updatedBoard(part, null);\n      });\n    }\n  }\n\n  resetPlayerShip() {\n    if (this.lives > 0) {\n      this.playerShip = new PlayerShip([33,13]);\n      this.playerShip.body.forEach((part) => {\n        updateBoard(part, \"grey\");\n      });\n    }\n  }\n\n  updateBoard(coord, val) {\n    this.board.updateGrid(coord, val);\n  }\n\n  createMissile({loc, origin}) {\n    this.missileId += 1;\n    const missile = new Missile(loc[0], loc[1], this.missileId, origin);\n    this.missiles[this.missileId] = missile;\n  }\n\n  markMissilesOnBoard() {\n    for (id in this.missiles) {\n      let missile = this.missiles[id];\n      updateBoard(missile, \"missile\");\n    }\n  }\n\n  moveMissiles() {\n    this.missiles.forEach((missile) => {\n      updateBoard(missile, null);\n      if (missile.origin === \"alien\") {\n        missile.shift(\"down\");\n        updateBoard(missile, \"missile\");\n      } else if (missile.origin === \"human\") {\n        missile.shift(\"up\");\n        updateBoard(missile, \"missile\");\n      }\n    });\n  }\n\n  generateAlienShipMissile() {\n    const shootingShips = this.alienShips.filter((ship) => { return ship.shooting });\n    const randomShootingShip = shootingShips[Math.floor(Math.random() * shootingShips.length)];\n\n    createMissile(randomShootingShip.fireMissile());\n  }\n\n  mapAlienShipsToTheirBodies() {\n    return this.AlienShips.map((ship) => {ship.body});\n  }\n\n  resolveMissileCollisions() {\n    const game = this;\n\n    for (let id in this.missiles) {\n      let missile = this.missiles[id];\n      if (missile.includedIn(this.playerShip.body)) {\n        this.destroyShip(this.playerShip);\n        this.resetPlayerShip();\n      } else {\n        for (let i = 0; i < this.alienShips.length; i++) {\n          let ship = this.alienShips[i];\n          if (missile.includedIn(ship.body)) {\n            game.destroyShip(this.ship);\n            break;\n          }\n        }\n      }\n\n      delete this.missiles[id];\n    }\n  }\n}\n\nmodules.export = Game;\n\n\n\n// WEBPACK FOOTER //\n// ./src/game.js","class Coord {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n    this.directions = {\n      \"up\": [-1, 0],\n      \"down\": [1, 0],\n      \"right\": [0, 1],\n      \"left\": [0, -1]\n    };\n  }\n\n  shift(direction) {\n    const deltas = this.directions(direction);\n    this.x += deltas[0];\n    this.y += deltas[1];\n  }\n\n  isEqual(coord2) {\n    return (this.x === coord2.x && this.y === coord2.y);\n  }\n\n  includedIn(arr) {\n    return arr.some(this.isEqual.bind(this));\n  }\n}\n\nmodule.exports = Coord;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Coord.js","const Coord = require(\"./Coord.js\");\n\nclass Ship {\n  constructor(nose) {\n    this.nose = nose;\n    this.body = [];\n  }\n\n  move(direction) {\n    this.body.forEach((part) => {\n      part.shift(direction);\n    });\n  }\n}\n\nmodules.export = Ship;\n\n\n\n// WEBPACK FOOTER //\n// ./src/ship.js","const Coord = require(\"./Coord.js\");\n\nclass Missile extends Coord {\n  constructor(x, y, id, origin) {\n    super(x, y);\n    this.id = id;\n    this.origin = origin;\n    this.directions = {\n      \"up\": [-1, 0],\n      \"down\": [1, 0],\n      \"right\": [0, 1],\n      \"left\": [0, -1]\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Missile.js","const Ship = require(\"./ship.js\");\nconst Coord = require(\"./Coord.js\");\n\nclass AlienShip extends Ship {\n  constructor(nose, color) {\n    super(nose);\n    this.body = [];\n    this.color = color;\n    this.direction = \"right\";\n    this.shooting = false;\n    this.renderBody(this.nose);\n  }\n\n  renderBody(nose) {\n    this.body.push(new Coord(nose[0], nose[1]));\n    this.body.push(new Coord(nose[0] - 1, nose[1]));\n    this.body.push(new Coord(nose[0] - 1, nose[1] - 1));\n    this.body.push(new Coord(nose[0] - 1, nose[1] + 1));\n  }\n\n  fireMissile() {\n    return { loc: this.nose, origin: \"alien\" };\n  }\n\n  isLive() {\n    this.color !== \"black\";\n  }\n}\n\nmodule.exports = AlienShip;\n\n\n\n// WEBPACK FOOTER //\n// ./src/alien_ship.js","const Coord = require(\"./coord.js\");\n\nclass Board {\n  constructor(width = 27, height = 36) {\n    this.width = width;\n    this.height = height;\n    this.grid = [];\n    this.renderGrid();\n  }\n\n  renderGrid() {\n    for (let i = 0; i < this.height; i++) {\n      let row = [];\n      for (let j = 0; j < this.width; j++) {\n        row.push(null);\n      }\n      this.grid.push(row);\n    }\n  }\n\n  updateGrid(coord, val) {\n    this.grid[coord.x][coord.y] = val;\n  }\n}\n\nmodules.export = Board;\n\n\n\n// WEBPACK FOOTER //\n// ./src/board.js","class Coord {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n    this.directions = {\n      \"up\": [-1, 0],\n      \"down\": [1, 0],\n      \"right\": [0, 1],\n      \"left\": [0, -1]\n    };\n  }\n\n  shift(direction) {\n    const deltas = this.directions(direction);\n    this.x += deltas[0];\n    this.y += deltas[1];\n  }\n\n  isEqual(coord2) {\n    return (this.x === coord2.x && this.y === coord2.y);\n  }\n\n  includedIn(arr) {\n    return arr.some(this.isEqual.bind(this));\n  }\n}\n\nmodule.exports = Coord;\n\n\n\n// WEBPACK FOOTER //\n// ./src/coord.js","const Ship = require(\"./ship.js\");\nconst Coord = require(\"./Coord.js\");\n\nclass PlayerShip extends Ship {\n  constructor(nose) {\n    super(nose);\n    this.body = [];\n    this.renderBody(this.nose);\n  }\n\n  renderBody(nose) {\n    this.body.push(new Coord(nose[0], nose[1]));\n    this.body.push(new Coord(nose[0] + 1, nose[1]));\n    this.body.push(new Coord(nose[0] + 1, nose[1] - 1));\n    this.body.push(new Coord(nose[0] + 1, nose[1] + 1));\n  }\n\n  fireMissile() {\n    return { loc: this.nose, origin: \"human\" };\n  }\n}\n\nmodules.export = PlayerShip;\n\n\n\n// WEBPACK FOOTER //\n// ./src/player_ship.js"],"sourceRoot":""}